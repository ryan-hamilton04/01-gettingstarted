# Lab 01

## Objectives

* Familiarize yourself with the general process of starting and working on labs.
* Familiarize yourself with the provided Python test script.
* Begin to understand the `gcc` compiler and `Makefile`.
* Write a "Hello World!" C program.

---

### `hello.c`

This is a simple getting started project that walks you through writing a simple
"Hello World!" program in C. Please perform the following steps. You will repeat
these steps (or slight variants) for each lab and project.

1. Fork this repository and mark it **private**.

2. Clone your newly forked repository into a directory on your OIT CS 210
   container or the directory accessible to your local container.

3. Use Visual Studio Code (VSCode) to create a file in your repository called
   `hello.c` with the following contents.
    ```c
    #include <stdio.h>

    int main (int argc, char **argv) {
      printf("Hello World!\n");
      return 0;
    }
    ```

4. Type `make` at the command prompt to compile the `hello.c` file and create
   the `hello` executable program. You can also directly invoke the compiler by
   typing `gcc -o hello hello.c`.

**Note:** You will have to run `make` every time you make and save changes to
your C source code files to recompile your `hello` executable.

---

### Basic Overview of the GNU Compiler Collection (`gcc`)

The `gcc` compiler is the tool we (and many professionals) use to turn C code
(that we can understand) into an executable (that the computer can run).

The basic format of `gcc` commands is:
```bash
gcc -o <executable_name> <source_code_name>
```

In the case of some random C program named `PizzaCalc.c`:
```bash
gcc -o PizzaCalc PizzaCalc.c
```

This will take the `PizzaCalc.c` file and create an executable file called
`PizzaCalc`.

You can then run the `PizzaCalc` executable in the terminal by typing:
```bash
./PizzaCalc
```

---

### Basic Overview of a `Makefile`

For future labs and projects, you must run `make` instead of `gcc` because of
provided utility object files that will be linked together with the code files
you write to produce the final executable. 
    
The `make` command is useful for more complex situations and we will discuss it
in more detail later in the semester.

Here is a breakdown of the components in a `Makefile`:

```Make
target: dependencies ...
    command
    ...
```

You can open the provided `Makefile` and see the different `make` commands that
we have provided. The contents of the `Makefile` is also shown below:

```Make
all: hello

hello: hello.c
	gcc -o $@ $<

clean:
	rm -f hello
	rm -f tests/*_diff* tests/*_actual*
	rm -rf __pycache__/
```

Running just `make` will run the commands associated with the target `all`,
which has a dependency of the target `hello` instead of actual terminal
commands. 

Running `make hello` will run the commands associated with the `hello` target.

In this case, `hello.c` is the dependency, `hello` is the target executable
name, and `gcc -o $@ $<` is the terminal command that runs. `$@` is the target
name (in this case `hello`). `$<` is the first dependency (in this case
`hello.c`). `$@` and `$<` are variables that can be used and take on the value
of the target and the dependency. If we were to replace the `$@` and `$<` with
`hello` and `hello.c`, you will see that the terminal command performed by
running `make` or `make hello` is just `gcc -o hello hello.c`

**Note:** As was previously mentioned, you will have to run `make` every time
you make and save changes to your C code files to recompile your `hello`
executable.

Running `make clean` will run the terminal commands associated with the target
`clean`. Notice here how a target can have multi-line terminal commands. These
commands delete the compiled `hello` executable, the difference and actual files
generated by the local Python test script, and the residue `__pycache__` folder
that is generated by the local Python test script. This command does not delete
the `hello.c` code file so you can run `make` again to recompile a new `hello`
executable.

---

### Local Testing and Submission

1. Run `make` to (re)compile your `hello.c` file.

2. Run the compiled program by typing `./hello` in the Terminal.

3. Run the local Python test script by running the following on the Unix command
   line:
    ```
    python3 test_kit.py ALL
    ```

4. Add, commit, and push the file `hello.c` to your Git repository:
   ```Bash
   git add hello.c
   git commit -m "My Hello World"
   git push
   ```

5. Submit your completed lab to Gradescope via the GitLab submission button.
